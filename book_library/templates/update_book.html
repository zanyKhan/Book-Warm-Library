{% extends "navbar.html" %}
{% load static %}

{% block title %}Update Book - Book Warm Library{% endblock title %}

{% block content %}
    
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-2"></div>
            <div class="col-md-8">
            <div class="card shadow-lg p-4 rounded">
                {% if error %}
                    <div class="alert alert-danger" role="alert">
                        {{error}}
                    </div>
                {% endif %}
                <h2 class="mb-4 text-center">ðŸ“š Update Book</h2>

                <form method="POST" enctype="multipart/form-data" action="{% url 'update_book' book.id %}">
                    {% csrf_token %}
                    
                    <div class="form-group mb-3">
                        <label for="isbn" class="form-label">ISBN</label>
                        <input type="text" class="form-control" id="isbn" name="isbn" placeholder="ISBN number" value="{{ book.isbn_num}}">
                    </div>

                <div class="form-group mb-3">
                        <label for="title" class="form-label">Title</label>
                        <input type="text" class="form-control" id="title" name="title" placeholder="Enter Title" value="{{ book.title}}">
                    </div>

                    <div class="form-group mb-3">
                        <label for="author" class="form-label">Author</label>
                        <input type="text" class="form-control" id="author" name="author" placeholder="Enter author name" value="{{ book.author }}">
                    </div>

                    <div class="form-group mb-3">
                        <label for="publisher" class="form-label">Publisher</label>
                        <input type="text" class="form-control" id="publisher" name="publisher" placeholder="Password" value="{{ book.publisher }}">
                    </div>

                <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="is_available" name="is_available" {% if book.is_available %}checked{% endif %}>
                        <label class="form-check-label" for="is_available">Is Available</label>
                    </div>

                <div class="form-group mb-3">
                        <label for="category" class="form-label">Category</label>
                        <select class="form-select" id="category" name="category" >
                            <option value="">-- Select Category --</option>
                            {% for category in category_list %}
                                <option value="{{ category }}" {% if book.category == category %}selected{% endif %}>
                                    {{ category }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>


                    <div class="form-group mb-3">
                        <label for="desc" class="form-label">Description</label>
                        <textarea type="text" class="form-control" id="desc" name="desc">{{book.desc}}</textarea>
                    </div>

                    <div class="form-group mb-3">
                        <label for="image" class="form-label">Choose Image</label>
                        <input class="form-control" type="file" id="image" name="image" >

                        {% if book.img %}
                            <div class="mt-2">
                                <label class="form-label">Current Image:</label><br>

                                <img src="{{ book.img.url }}" alt="Book Image" height="120px"><br><br>
                            </div>
                        {% endif %}
                    </div>
                    <div class="form-group mb-3">
                        <label for="price" class="form-label">Price</label>
                        <input class="form-control" type="number" id="price" name="price"  value="{{ book.price }}">
                    </div>

                    <button type="submit" class="btn btn-success w-100">âž• Update Book</button>
                </form>
                </div>
            </div>
<div class="col-md-2"></div>
            

</div>
</div>
</div>

{% endblock content %}


